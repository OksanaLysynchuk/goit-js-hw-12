import{a as b,S as w,i as E}from"./assets/vendor-64b55ca9.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();const S="42752010-70402d91d951665a6458bc92c",v="https://pixabay.com/api/";async function q(t,n=1,a=15){try{return(await b.get(v,{params:{key:S,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,page:n,per_page:a}})).data.hits}catch(s){return console.log("Error while fetching images from pixabay!",s),showErrorToast("Error while fetching images from pixabay!"),s}}function h(t){const n=document.querySelector(".gallery"),a=document.createDocumentFragment();t.forEach(e=>{const r=document.createElement("div");r.classList.add("card");const o=document.createElement("a");o.href=e.largeImageURL,o.classList.add("gallery-item");const c=document.createElement("img");c.src=e.webformatURL,c.alt=e.tags,c.classList.add("gallery-image"),o.appendChild(c),r.appendChild(o),a.appendChild(r)}),n.innerHTML="",n.appendChild(a),new w(".gallery a",{captionsData:"alt",captionDelay:250}).refresh()}function M(){const t=document.querySelector(".loader");t.style.display="block"}function m(){const t=document.querySelector(".loader");t.style.display="none"}function y(){const t=document.querySelector(".load-more");t.classList.add("hidden"),t.style.visibility="hidden"}function f(){const t=document.querySelector(".load-more");t.classList.remove("hidden"),t.style.visibility="visible"}function x(){const t=document.querySelector(".end-message");t.classList.remove("hidden"),t.style.visibility="visible"}function d(t){E.error({title:"Error",message:t,position:"topRight"})}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".search-page"),n=document.querySelector(".search-placeholder"),a=document.querySelector(".load-more"),s=document.querySelector(".spinner");document.querySelector(".end-message");let e=1,r="",o=[];async function c(i,l){try{return await q(i,l)}catch(u){throw u}}function g(){const i=document.querySelector(".gallery");i.innerHTML=""}async function p(i){i.preventDefault();const l=n.value.trim();if(!l){d("Please enter a search term");return}r=l,e=1,g(),M();try{o=await c(l,e),m(),o.length===0?d("Sorry, there are no images matching your search query. Please try again!"):(h(o),f())}catch{m(),d("Error while fetching images from pixabay!")}}t.addEventListener("submit",p);async function L(){a.disabled=!0,s.classList.remove("hidden"),e++;try{const i=await c(r,e);i.length===0?(y(),x()):(o=o.concat(i),h(o),i.length<15?y():f())}catch{d("Error while fetching images from pixabay!")}finally{m(),a.disabled=!1,s.classList.add("hidden"),window.scrollBy({top:window.innerHeight*2,behavior:"smooth"})}}a.addEventListener("click",L)});
//# sourceMappingURL=commonHelpers.js.map
