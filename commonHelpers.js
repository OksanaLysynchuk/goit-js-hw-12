import{a as w,S as M,i as S}from"./assets/vendor-64b55ca9.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const E="42752010-70402d91d951665a6458bc92c",b="https://pixabay.com/api/";async function q(o,s=1,i=15){try{return(await w.get(b,{params:{key:E,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:s,per_page:i}})).data.hits}catch(r){return console.log("Error while fetching images from pixabay!",r),showErrorToast("Error while fetching images from pixabay!"),r}}function g(o){const s=document.querySelector(".gallery");s.innerHTML="",o.forEach(r=>{const e=document.createElement("div");e.classList.add("card");const t=document.createElement("a");t.href=r.largeImageURL,t.classList.add("gallery-item");const n=document.createElement("img");n.src=r.webformatURL,n.alt=r.tags,t.appendChild(n),e.appendChild(t),s.appendChild(e)}),new M(".gallery a",{captionsData:"alt",captionDelay:250}).refresh()}function v(){const o=document.querySelector(".loader");o.style.display="block"}function l(){const o=document.querySelector(".loader");o.style.display="none"}function B(){document.querySelector(".load-more").classList.add("hidden")}function y(){document.querySelector(".load-more").classList.remove("hidden")}function x(){document.querySelector(".end-message").classList.remove("hidden")}function f(){document.querySelector(".end-message").classList.add("hidden")}function u(o){S.error({title:"Error",message:o,position:"topRight"})}document.addEventListener("DOMContentLoaded",function(){const o=document.querySelector(".search-page"),s=document.querySelector(".search-placeholder"),i=document.querySelector(".gallery"),r=document.querySelector(".load-more"),e=document.querySelector(".spinner");document.querySelector(".end-message").classList.add("hidden"),o.addEventListener("submit",p);let n=1,m="";async function h(a,d){try{return await q(a,d)}catch(c){throw c}}async function p(a){a.preventDefault(),i.innerHTML="";const d=s.value.trim();if(!d){u("Please enter a search term");return}m=d,n=1,v();try{const c=await h(d,n);l(),c.length===0?u("Sorry, there are no images matching your search query. Please try again!"):(g(c),y())}catch(c){l(),console.log(c)}}r.addEventListener("click",L);async function L(){r.disabled=!0,e.classList.remove("hidden"),n++;try{const a=await h(m,n);a.length===0?(B(),x()):(g(a),y(),f())}catch{u("Error while fetching images from pixabay!")}finally{l(),r.disabled=!1,window.scrollBy({top:window.innerHeight*2,behavior:"smooth"}),f()}}});
//# sourceMappingURL=commonHelpers.js.map
