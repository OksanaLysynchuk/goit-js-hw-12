import{a as q,S as M,i as x}from"./assets/vendor-64b55ca9.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();const T="42752010-70402d91d951665a6458bc92c",B="https://pixabay.com/api/";async function C(e,a=1,i=15){try{return(await q.get(B,{params:{key:T,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:a,per_page:i}})).data.hits}catch(n){return console.log("Error while fetching images from pixabay!",n),showErrorToast("Error while fetching images from pixabay!"),n}}function f(e){const a=document.querySelector(".gallery"),i=document.createDocumentFragment();e.forEach(t=>{const r=document.createElement("div");r.classList.add("card");const s=document.createElement("a");s.href=t.largeImageURL,s.classList.add("gallery-item");const c=document.createElement("img");c.src=t.webformatURL,c.alt=t.tags,c.classList.add("gallery-image"),s.appendChild(c),r.appendChild(s),i.appendChild(r)}),a.innerHTML="",a.appendChild(i),new M(".gallery a",{captionsData:"alt",captionDelay:250}).refresh()}function g(){const e=document.querySelector(".loader");e.style.display="block"}function m(){const e=document.querySelector(".loader");e.style.display="none"}function l(){const e=document.querySelector(".load-more");e.classList.add("hidden"),e.style.visibility="hidden"}function p(){const e=document.querySelector(".load-more");e.classList.remove("hidden"),e.style.visibility="visible"}function y(){const e=document.querySelector(".end-message");e.classList.remove("hidden"),e.style.visibility="visible"}function L(){const e=document.querySelector(".end-message");e.classList.add("hidden"),e.style.visibility="hidden"}function u(e){x.error({title:"Error",message:e,position:"topRight"})}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".search-page"),a=document.querySelector(".search-placeholder"),i=document.querySelector(".load-more");l();let n=1,t="",r=[];async function s(o,d){try{return await C(o,d)}catch(h){throw h}}function c(){const o=document.querySelector(".gallery");o.innerHTML=""}async function b(o){o.preventDefault();const d=a.value.trim();if(!d){u("Please enter a search term");return}t=d,n=1,c(),g(),L(),l();try{r=await s(d,n),m(),l(),w(r)}catch{m(),u("Error while fetching images from pixabay!")}}function w(o){o.length===0?u("Sorry, there are no images matching your search query. Please try again!"):(f(o),o.length>=15?setTimeout(()=>{p()},800):setTimeout(()=>{y()},500))}async function E(){i.disabled=!0,l(),L(),n++;try{g();const o=await s(t,n);S(o)}catch{u("Error while fetching images from pixabay!")}finally{m(),i.disabled=!1,window.scrollBy({top:window.innerHeight*2,behavior:"smooth"})}}function S(o){o.length===0?(y(),l()):(r=r.concat(o),f(r),o.length>=15?setTimeout(()=>{p()},800):(l(),setTimeout(()=>{y()},500)))}function v(){e.addEventListener("submit",b),i.addEventListener("click",E)}v()});
//# sourceMappingURL=commonHelpers.js.map
